using PenTestDataViewer.Api.Model;
using System.ComponentModel.DataAnnotations.Schema;
using System.Net;

namespace PenTestDataViewer.Api.DataTransferModel.Host
{
    public class HostDomainDto
    {
        public static HostDomainDto FromDatabaseModel(Model.Domain domain) => new HostDomainDto
        {
            Id = domain.Id,
            TopDomain = domain.TopDomain,
            SubDomain = domain.SubDomain
        };

        public static Model.Domain ToDatabaseModel(HostDomainDto dto) => new Model.Domain
        {
            Id = dto.Id,
            SubDomain = dto.SubDomain,
            TopDomain = dto.TopDomain,
        };

        public Guid Id { get; set; }

        public string? TopDomain { get; set; }

        public string? SubDomain { get; set; }

        public string? Name { get => string.IsNullOrWhiteSpace(SubDomain) ? TopDomain : $"{SubDomain}.{TopDomain}"; }
    }
}
